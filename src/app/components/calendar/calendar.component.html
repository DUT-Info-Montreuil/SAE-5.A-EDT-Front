<div id="calendar-container">
  <div id="cal-buttons" class="flex flex-col items-center">
      <div id="cal-date-nav-button" class="flex flex-row items-center" >

          <button id="previous" [excludeDays]="excludeDays" mwlCalendarPreviousView [(viewDate)]="viewDate" [view]="view" >
              <svg class="fill-primary" width="25" height="25" viewBox="0 0 25 25" fill="none" [ngClass]="{ 'rotate-180': null }">
                  <path
                      d="M12.5 0C19.4033 0 25 5.59667 25 12.5C25 19.4033 19.4033 25 12.5 25C5.59667 25 0 19.4033 0 12.5C0 5.59667 5.59667 0 12.5 0ZM8.58333 13.0917L13.9883 18.4967C14.1455 18.6485 14.356 18.7325 14.5745 18.7306C14.793 18.7287 15.002 18.641 15.1565 18.4865C15.311 18.332 15.3987 18.123 15.4006 17.9045C15.4025 17.686 15.3185 17.4755 15.1667 17.3183L10.3483 12.5L15.1667 7.68167C15.3185 7.5245 15.4025 7.314 15.4006 7.0955C15.3987 6.877 15.311 6.66799 15.1565 6.51348C15.002 6.35898 14.793 6.27134 14.5745 6.26944C14.356 6.26754 14.1455 6.35153 13.9883 6.50333L8.58333 11.9083C8.5055 11.9858 8.44389 12.0781 8.40211 12.1797C8.36033 12.2813 8.33922 12.3902 8.34 12.5C8.33945 12.6098 8.36067 12.7186 8.40244 12.8202C8.4442 12.9217 8.50569 13.014 8.58333 13.0917Z"
                  />
              </svg>
           </button>

           <div class="font-bold m-3" >
             <h3> {{viewDate | calendarDate:(view + 'ViewTitle') : 'fr'}}</h3>
          </div> 

           <button id="previous"  [excludeDays]="excludeDays" mwlCalendarNextView [(viewDate)]="viewDate" [view]="view" >
              <svg class="fill-primary " width="25" height="25" viewBox="0 0 25 25" fill="none" transform="rotate(180)">
                  <path
                      d="M12.5 0C19.4033 0 25 5.59667 25 12.5C25 19.4033 19.4033 25 12.5 25C5.59667 25 0 19.4033 0 12.5C0 5.59667 5.59667 0 12.5 0ZM8.58333 13.0917L13.9883 18.4967C14.1455 18.6485 14.356 18.7325 14.5745 18.7306C14.793 18.7287 15.002 18.641 15.1565 18.4865C15.311 18.332 15.3987 18.123 15.4006 17.9045C15.4025 17.686 15.3185 17.4755 15.1667 17.3183L10.3483 12.5L15.1667 7.68167C15.3185 7.5245 15.4025 7.314 15.4006 7.0955C15.3987 6.877 15.311 6.66799 15.1565 6.51348C15.002 6.35898 14.793 6.27134 14.5745 6.26944C14.356 6.26754 14.1455 6.35153 13.9883 6.50333L8.58333 11.9083C8.5055 11.9858 8.44389 12.0781 8.40211 12.1797C8.36033 12.2813 8.33922 12.3902 8.34 12.5C8.33945 12.6098 8.36067 12.7186 8.40244 12.8202C8.4442 12.9217 8.50569 13.014 8.58333 13.0917Z"
                  />
              </svg>
           </button>
      </div>
  </div>  
  <div class="flex flex-col sm:flex-row justify-between items-stretch h-12">
      <!-- Liste pour la salle -->
      <div class="w-full sm:w-auto mb-2 sm:mb-0">
          <select class="w-full selectPromo border rounded py-2 px-3 focus:outline-none focus:border-blue-500" (change)="onSelectPromoChange($event)">
            <option value="">----</option>
            <ng-container *ngFor="let promo of mapIdNomPromo">
              <option [value]="promo">{{ promo }}</option>
            </ng-container>
          </select>          
      </div>
    
      <div class="w-full sm:w-auto mb-2 sm:mb-0 ml-0 sm:ml-2">
          <select class="w-full selectProf border rounded py-2 px-3 focus:outline-none focus:border-blue-500" (change)="onSelectProfChange($event)">
            <option value="">----</option>
            <ng-container *ngFor="let nom of mapIdNomProfs">
              <option [value]="nom">{{ nom }}</option>
            </ng-container>
              
          </select>
      </div>
    
      <div class="w-full sm:w-auto mb-2 sm:mb-0 ml-0 sm:ml-2">
          <select class="w-full selectSalle border rounded py-2 px-3 focus:outline-none focus:border-blue-500" (change)="onSelectSalleChange($event)">
              <option value="">----</option>
              <ng-container *ngFor="let salle of mapIdNomSalle">
                <option [value]="salle">{{ salle }}</option>
              </ng-container>
          </select>
      </div>
    
      <div class="ml-auto">
    <!--  <button (click)="openCreationModal()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Ajouter cours</button>-->  
      </div>
    </div>
    
 

    
<span [ngSwitch]="view" class="max-h64">        
      <mwl-calendar-week-view class="" 
          *ngSwitchCase="calendarView.Week" 
          [viewDate]="viewDate" 
          [events]="events"
          [excludeDays]="excludeDays"
          [dayStartHour]="dayStartHour"
          [dayEndHour]="dayEndHour"
          [hourSegments]="hourSegments"
          locale="fr"
          (eventTimesChanged)="eventTimesChanged($event)"
          (eventClicked)="showEventDetails($event)"
          (dayHeaderClicked)="changeDay($event.day.date)"
          [refresh]="refresh"
          [hourSegmentHeight]="15" 
          [eventTemplate]="customEWeekViewTemplate"
          >    
      </mwl-calendar-week-view>

      <ng-template #customEWeekViewTemplate let-event="events" >
        <div class="titre bg-danger h-full flex flex-col justify-between" >
          <div class="item-center text-center">
            <div class="item-center text-center" >
              {{ event ? event.title : "BDD" }}
            </div>
            <div class="flex justify-between">
              <div class="max-w-min inline-block" >
                {{ event ? event.meta.location : "LÃ " }}
              </div>
              <div class="max-w-min inline-block">
                {{ event ? event.meta.organizer : "AC" }}
              </div>
            </div>
          </div>
        </div>
      </ng-template>
           
      <mwl-calendar-day-view class=""
          *ngSwitchCase="calendarView.Day" 
          [viewDate]="viewDate" 
          [events]="events"
          [dayStartHour]="dayStartHour"
          [dayEndHour]="dayEndHour"
          [hourSegments]="hourSegments"
          locale="fr"
          (click)="dayViewClick()"
          (eventTimesChanged)="eventTimesChanged($event)"
          (eventClicked)="calendarClicked()"
          [refresh]="refresh"
          [hourSegmentHeight]="15"      
          [eventTemplate]="customEWeekViewTemplate"                 
          >
      </mwl-calendar-day-view>
  </span>
</div>

